# Canon TDD 開発プロセス（change-seats-app）

このプロジェクトは **Canon TDD の理論** にのみ従います。独自の手順は追加しません。

---

## Canon TDD の定義

**設計から開発プロセスを作成する際に、テストシナリオを作成し、テスト実行して失敗（コードがないため）、コードを作成し、１個だけテストを実施、通ればテスト結果が変わらないことを前提に可能な限りリファクタリングを行う、というサイクル。全てのテストシナリオが終われば完了。**

---

## 流れ

1. **設計から開発プロセスを作成する際に、テストシナリオを作成する**
2. **テスト実行して失敗**（コードがないため）
3. **コードを作成する**
4. **１個だけテストを実施**し、通ることを確認する
5. **通れば**、テスト結果が変わらないことを前提に **可能な限りリファクタリング** する
6. 次のシナリオへ（2〜5 を繰り返す）
7. **全てのテストシナリオが終われば完了**

---

## 各ステップ

### 1. 設計・テストシナリオの作成

- 設計から開発プロセスを作成する **際に**、テストシナリオを作成する
- 1 シナリオ ＝ 1 テストメソッド

### 2. Red：テスト実行して失敗を確認

- そのシナリオのテストを 1 つ書く（まだ実装なし）
- テストを実行し、**失敗する**ことを確認する（コードがないため失敗が正しい）
- コマンド：`composer test`

### 3. 実装：コードを作成する

- その 1 個のテストが通るための最小限のコードを作成する

### 4. Green：１個だけテストを実施

- **その 1 個だけ**テストを実行し、通ることを確認する
- コマンド：`php artisan test --filter=メソッド名` または `composer test:one -- フィルタ`

### 5. Refactor：通ればリファクタリング

- 通っていれば、**テスト結果が変わらないことを前提に**、可能な限りリファクタリングする
- リファクタ後、同じ 1 個のテストで再確認する
- 必要なら `composer pint` でスタイルを整える

### 6. 次のシナリオへ

- 次のシナリオについて 2〜5 を繰り返す

### 7. 完了

- 全てのテストシナリオが終われば完了
- 最後に `composer test` で全体が通ることを確認する

---

## コマンド

| 目的 | コマンド |
|------|----------|
| テスト実行（Red 確認・最終確認） | `composer test` |
| １個だけテスト実施（Green・Refactor 後確認） | `php artisan test --filter=メソッド名` または `composer test:one -- フィルタ` |
| スタイル整形 | `composer pint` |
| スタイルチェック | `composer pint:test` |

---

## ルール

1. 設計から開発プロセスを作成する **際に** テストシナリオを作成する
2. テスト実行して失敗を確認してからコードを作成する
3. 通すテストは **１個だけ** 実施する（Green・Refactor 後の確認も 1 個だけ）
4. 通れば、テスト結果が変わらないことを前提に可能な限りリファクタリングする
5. 全てのテストシナリオが終われば完了
